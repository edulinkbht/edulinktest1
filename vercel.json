{
  "rewrites": [
    {
      "source": "/",
      "destination": "/home"
    },
    {
      "source": "/search/:query",
      "destination": "/home?q=:query&etab=explore"
    },
    {
      "source": "/feed",
      "destination": "/home"
    },
    {
      "source": "/search",
      "destination": "/home"
    },
    {
      "source": "/notifications",
      "destination": "/home"
    },
    {
      "source": "/profile/:username*",
      "destination": "/home"
    },
    {
      "source": "/:username/post/:num",
      "has": [
        {
          "type": "header",
          "key": "user-agent",
          "value": ".*(WhatsApp|facebookexternalhit|Twitterbot|LinkedInBot|Discordbot).*"
        }
      ],
      "destination": "/api/share?username=:username&postNum=:num"
    },
    {
      "source": "/:username/post/:num",
      "destination": "/home"
    },
    {
      "source": "/(.*)",
      "destination": "/404.html"
    }
  ]
}
